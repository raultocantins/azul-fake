(this.webpackJsonpazul=this.webpackJsonpazul||[]).push([[45],{2941:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return d}));var i=n(78),a=n(95),s=n(587),o=n(306),r=n(25),c=n(533),l=function(e){var t,n;return{state:e,data:e.home.pages.nextTrip,urlJourneyWithReaccommodated:e.home.booking.urlJourneyWithReaccommodated,reservation:e.home.booking,loading:null===(t=e.ui)||void 0===t||null===(n=t.nextTrip)||void 0===n?void 0:n.loading,typeDialog:e.ui.dialog.type,messageDialog:e.ui.dialog.message,user:e.tudoazul.user,headerTransparent:e.ui.headerTransparent,stations:e.resources.stations,searchFlightBoxOpen:e.ui.searchFlightBox.visible,searchHotelBoxOpen:e.ui.searchHotelBox.visible,searchTicketBoxOpen:e.ui.searchTicketBox.visible}},d=function(e){return{setReservationCardOpen:function(){e(a.x())},setHomeRoute:function(){e(r.k())},toggleSearchFlightBox:function(t){e(Object(c.c)(t))},getNextTrip:function(){e(s.h())},checkin:function(){e(s.e())},addBaggages:function(){e(s.a())},specialAssistance:function(){e(s.n())},payment:function(){e(s.l())},boardingPass:function(){e(s.c())},editOrCancelTrip:function(){e(s.g())},manageTrip:function(){},setNextRoute:function(t){e(r.n(t))},navigateToNextRoute:function(){e(r.c())},buildDataLayer:function(t,n,a,s){e(i.a(t,n,a,s))},toggleHeaderTransparent:function(t){e(o.g(t))},setActionPage:function(t){e(r.i(t))}}}},3112:function(e,t,n){"use strict";n.r(t);var i,a,s,o,r,c,l=n(2),d=n(8),u=n(13),p=n(81),h=n(16),b=n(17),g=n(1),m=n(0),j=n(22),x=n(437),v=n.n(x),f=n(106),O=n.n(f),k=n(72),T=n(3),y=n(1393),w=n(63),B=n(1562),z=n(2941),R=n(7),F=n(9),H=Object(g.css)(a||(a=Object(R.a)(["\n  width: 100%;\n  min-height: 500px;\n  position: relative;\n  margin: 20px 0;\n\n  .editor {\n    &__wrapper {\n      position: absolute;\n      width: 100%;\n      max-width: 1024px;\n      padding: 0 24px;\n      top: 50%;\n      left: 50%;\n      transform: translate(-50%, -50%);\n\n      .logged-container {\n        position: static !important;\n        transform: none !important;\n      }\n    }\n  }\n"]))),N=function(e){return Object(g.css)(s||(s=Object(R.a)(["\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n\n  img {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n  }\n\n  ","\n"])),e&&"\n    position: static;\n    display: block;\n    height: 500px;\n  ")},S=Object(g.css)(o||(o=Object(R.a)(["\n  display: block;\n  width: 100%;\n  z-index: 9999;\n\n  "," {\n    position: relative;\n    z-index: 2;\n  }\n"])),F.a.higherThan("desktop")),I=Object(g.css)(c||(c=Object(R.a)(["\n  width: 100%;\n  z-index: 1;\n"]))),_=function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(e){var i;return Object(d.a)(this,n),(i=t.call(this,e)).state=Object(l.a)(Object(l.a)({},i.state),{},{arrival:"",imageDesktop:e.fileReference,imageMobile:e.fileReferenceMobile,isVisible:!1}),i.setHeaderTransparent=i.setHeaderTransparent.bind(Object(p.a)(i)),i.setFallbackImage=i.setFallbackImage.bind(Object(p.a)(i)),i.shouldRender=i.shouldRender.bind(Object(p.a)(i)),i}return Object(u.a)(n,[{key:"BusinessUnitTab",get:function(){return this.buildComponent("azul/components/content/business-unit-tab",this.props.cqItems.business_unit_tab,"business-unit-tab")}},{key:"Bar",get:function(){return this.buildComponent("azul/components/content/next-trip-container/bar",this.props.cqItems.next_trip_bar||{},"bar")}},{key:"setFallbackImage",value:function(){this.setState({arrival:""})}},{key:"setHeaderTransparent",value:function(e){return(0,this.props.toggleHeaderTransparent)(e)}},{key:"componentDidMount",value:function(e){this.setHeaderTransparent(!0);var t=this.props.reservation,n=v()(t,null===e||void 0===e?void 0:e.reservation);if(!O()(t)&&(null===t||void 0===t?void 0:t.journeys.length)>0&&!n){var i=t.journeys[0].identifier.arrivalStation;this.setState({arrival:i})}}},{key:"componentWillUnmount",value:function(){this.setHeaderTransparent(!1)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.reservation,i=t.user,a=t.headerTransparent,s=t.getNextTrip,o=v()(i,e.user),r=v()(n,e.reservation);if(O()(i)||o||s(),a||this.setHeaderTransparent(!0),!O()(n)&&(null===n||void 0===n?void 0:n.journeys.length)>0&&!r){var c=n.journeys[0].identifier.arrivalStation;this.setState({arrival:c})}this.shouldRender()}},{key:"shouldRender",value:function(){var e=this.props,t=e.data,n=e.isInEditor,i=e.user,a=e.booking,s=e.viewmode,o=e.loading,r=Object(y.a)(s,a,i,t.hasNextTrip,o),c=n||r;c!==this.state.isVisible&&(this.setState({isVisible:c}),c&&this.props.toggleSearchFlightBox(!1))}},{key:"render",value:function(){var e,t,n=this.props,a=n.data,s=n.reservation,o=n.imageAlt,c=n.isInEditor,l=n.teaserDescription,d=n.teaserTitle,u=n.fileReference,p=n.fileReferenceMobile,h=n.viewBusinessUnitTab,b=n.viewNextTripBar,j=n.user,x=n.searchFlightBoxOpen,v=n.searchHotelBoxOpen,f=n.searchTicketBoxOpen,y=this.state,w=y.arrival,z=y.isVisible,_=s.nickname,D=w?"/content/dam/azul/stations/hero/mobile/".concat(w,".jpg"):p,C=w?"/content/dam/azul/stations/hero/desktop/".concat(w,".jpg"):u,L=!O()(j)&&!O()(null===j||void 0===j?void 0:j.customerKey)&&a.hasNextTrip&&!c,U=!!d&&!x&&!v&&!f&&!O()(j)&&!O()(null===j||void 0===j?void 0:j.customerKey)&&!c;return c||z&&L?Object(g.jsx)("div",{css:(t=c,Object(g.css)(i||(i=Object(R.a)(["\n  position: relative;\n  width: 100%;\n  ","\n  ","\n  ","\n  ","\n\n  "," {\n    ","\n  }\n\n  "," {\n    ","\n  }\n\n  &:before {\n    content: '';\n    width: 100%;\n    height: 100%;\n    ","\n    position: absolute;\n    top: 0;\n    left: 0;\n    pointer-events: none;\n    z-index: 1;\n  }\n"])),t&&"min-height: 500px;",!t&&"\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    align-items: center;\n  ",!t&&"min-height: 500px;",!t&&"\n    margin-top: -".concat(T.a.layout.header.height.mobile,";\n    padding-top: ").concat(T.a.layout.header.height.mobile,";\n  "),F.a.higherThan("tablet"),!t&&"\n      margin-top: -".concat(T.a.layout.header.height.tablet,";\n      padding-top: ").concat(T.a.layout.header.height.tablet,";\n    "),F.a.higherThan("desktop"),!t&&"\n      min-height: 737px;\n      margin-top: -".concat(T.a.layout.header.height.desktop,";\n      padding-top: ").concat(T.a.layout.header.height.desktop,";\n    "),!t&&"background: linear-gradient(180deg, rgba(4, 30, 66, 0.85) 0%, rgba(4, 30, 66, 0) 100%);"))},c?Object(g.jsx)(m.Fragment,null,Object(g.jsx)("div",{css:H},Object(g.jsx)("div",{className:"editor__wrapper"},Object(g.jsx)(B.a,{teaserPromo:{title:d,description:l},teaserNextTrip:{title:d,description:l},hasNextTrip:c,nextTrip:_||"",visible:c})),u&&Object(g.jsx)("picture",{css:N(c)},Object(g.jsx)("source",{srcSet:u,media:"(min-width: ".concat(T.a.breakpoints.desktop,"px)")}),p&&Object(g.jsx)("source",{srcSet:p,media:"(min-width: 0)"}),Object(g.jsx)(k.LazyLoadImage,{src:u,alt:o}))),this.childComponents):Object(g.jsx)(m.Fragment,null,Object(g.jsx)("picture",{css:N(c)},Object(g.jsx)("source",{srcSet:C,media:"(min-width: ".concat(T.a.breakpoints.desktop,"px)")}),Object(g.jsx)("source",{srcSet:D,media:"(min-width: 0)"}),Object(g.jsx)(k.LazyLoadImage,{src:C,alt:o,onError:this.setFallbackImage})),h&&Object(g.jsx)("div",{css:S},this.BusinessUnitTab),Object(g.jsx)("div",{css:(e=b,Object(g.css)(r||(r=Object(R.a)(["\n  width: 100%;\n  max-width: 1024px;\n  ","\n  padding: 0 24px;\n  z-index: 2;\n\n  "," {\n    margin: auto;\n  }\n\n  .logged-container {\n    width: 100%;\n    position: static;\n    transform: none;\n  }\n"])),e?"margin: 0 auto 16px;":"margin: auto;",F.a.higherThan("desktop")))},Object(g.jsx)(B.a,{teaserPromo:{title:d,description:l},teaserNextTrip:{title:d,description:l},hasNextTrip:L,nextTrip:_,visible:U})),b&&Object(g.jsx)("div",{css:I},this.Bar)),this.placeholderComponent):Object(g.jsx)(m.Fragment,null)}}]),n}(w.a);t.default=Object(j.c)(z.b,z.a)(_)}}]);
//# sourceMappingURL=NextTripContainer.eeec27d6.chunk.js.map